/* Tailwind v4 çekirdeği */
@import "tailwindcss";

/* Dark mode variant tanımlaması - Tailwind v4 için gerekli */
@custom-variant dark (&:where(.dark, .dark *));

/* ──────────────────────────────────────────────────────────
   1) TEMA DEĞİŞKENLERİ (Tailwind v4 @theme – design tokens)
   - Buradaki isimler, doğrudan utility sınıfı üretir:
     örn. bg-brand-500, text-positive-600, border-muted-300
   - Dark modda .dark kökünde override ediyoruz.
   Docs: https://tailwindcss.com/docs/theme , https://tailwindcss.com/docs/dark-mode
   ────────────────────────────────────────────────────────── */
@theme {
  /* Font ailesi ve radius */
  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  --radius-sm: 0.375rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.25rem;
  --radius-2xl: 1.5rem;

  /* Breakpoint'ler (container util'de kullanacağız) */
  --breakpoint-sm: 40rem;   /* 640px  */
  --breakpoint-md: 48rem;   /* 768px  */
  --breakpoint-lg: 64rem;   /* 1024px */
  --breakpoint-xl: 80rem;   /* 1280px */

  /* Gri / arayüz (muted) paleti */
  --color-muted-50:  oklch(0.98 0.003 255);
  --color-muted-100: oklch(0.97 0.006 255);
  --color-muted-200: oklch(0.94 0.01 255);
  --color-muted-300: oklch(0.88 0.015 255);
  --color-muted-400: oklch(0.78 0.02 255);
  --color-muted-500: oklch(0.7 0.02 255);
  --color-muted-600: oklch(0.62 0.02 255);
  --color-muted-700: oklch(0.55 0.02 255);
  --color-muted-800: oklch(0.48 0.02 255);
  --color-muted-900: oklch(0.4 0.02 255);

  /* Marka renkleri (modern blue-purple gradient) */
  --color-brand-50:  oklch(0.97 0.02 240);  /* Light blue */
  --color-brand-100: oklch(0.94 0.04 240);
  --color-brand-200: oklch(0.9  0.06 240);
  --color-brand-300: oklch(0.85 0.09 240);
  --color-brand-400: oklch(0.8  0.12 240);
  --color-brand-500: oklch(0.73 0.16 240); /* ana blue */
  --color-brand-600: oklch(0.66 0.16 240);
  --color-brand-700: oklch(0.58 0.16 240);
  --color-brand-800: oklch(0.52 0.14 240);
  --color-brand-900: oklch(0.45 0.12 240);

  /* Accent renkleri (purple gradient) */
  --color-accent-50:  oklch(0.97 0.02 270);  /* Light purple */
  --color-accent-100: oklch(0.94 0.04 270);
  --color-accent-200: oklch(0.9  0.06 270);
  --color-accent-300: oklch(0.85 0.09 270);
  --color-accent-400: oklch(0.8  0.12 270);
  --color-accent-500: oklch(0.73 0.16 270); /* ana purple */
  --color-accent-600: oklch(0.66 0.16 270);
  --color-accent-700: oklch(0.58 0.16 270);
  --color-accent-800: oklch(0.52 0.14 270);
  --color-accent-900: oklch(0.45 0.12 270);

  /* Durum renkleri (modern fintech) */
  --color-positive-500: oklch(0.74 0.13 150); /* Green */
  --color-negative-500: oklch(0.62 0.14 22);  /* Red */
  --color-warning-500:  oklch(0.85 0.12 95);  /* Orange */
  --color-info-500:     oklch(0.78 0.12 235); /* Blue */

  /* Yüzey/foreground semantiği (bg-*, text-*) */
  --color-background: oklch(0.99 0 0);
  --color-foreground: oklch(0.2 0.03 255);
  --color-card:       oklch(0.995 0 0);
  --color-elevated:   oklch(0.985 0 0); /* hafif yükselti */
  --color-border:     var(--color-muted-300);

  /* Gölge ve halka */
  --shadow-soft: 0 1px 2px 0 oklch(0 0 0 / 0.06), 0 8px 24px -8px oklch(0 0 0 / 0.12);
  --shadow-pop:  0 6px 20px -6px oklch(0 0 0 / 0.22);
  --ring-brand:  0 0 0 3px color-mix(in oklch, var(--color-brand-500) 35%, transparent);
}

/* Dark tema override (class tabanlı) — v4 dark mode önerisi */
.dark {
  color-scheme: dark;
  --color-background: oklch(0.16 0.02 255);
  --color-foreground: oklch(0.98 0 0);
  --color-card:       oklch(0.19 0.02 255);
  --color-elevated:   oklch(0.22 0.02 255);
  --color-border:     var(--color-muted-700);

  /* brand/accents biraz koyulaşsın */
  --color-brand-500:  oklch(0.72 0.16 240);
  --color-accent-500: oklch(0.72 0.16 270);
}

/* ──────────────────────────────────────────────────────────
   2) BASE: tipografi, gövde, scrollbar, motion
   Docs: https://tailwindcss.com/docs/dark-mode
   ────────────────────────────────────────────────────────── */
html, body { height: 100%; }
body {
  font-family: var(--font-sans);
}

/* Gövdeyi temaya bağla */
body { @apply bg-background text-foreground; }

/* Yumuşak scrollbar (tema uyumlu) */
* { scrollbar-width: thin; scrollbar-color: color-mix(in oklch, var(--color-muted-500) 60%, transparent) transparent; }
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb {
  background: color-mix(in oklch, var(--color-muted-500) 60%, transparent);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: content-box;
}

/* Hareket azaltma tercihine saygı */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}

/* Responsive iyileştirmeler */
@media (max-width: 640px) {
  /* Mobilde daha küçük padding */
  .container {
    padding-inline: 1rem;
  }
  
  /* Mobilde daha küçük font boyutları */
  h1 { font-size: 1.875rem; line-height: 2.25rem; }
  h2 { font-size: 1.5rem; line-height: 2rem; }
  h3 { font-size: 1.25rem; line-height: 1.75rem; }
  
  /* Mobilde daha küçük butonlar */
  .btn {
    height: 2.25rem;
    padding-inline: 0.75rem;
    font-size: 0.875rem;
  }
  
  /* Mobilde daha küçük kartlar */
  .card {
    padding: 1rem;
  }
}

/* ──────────────────────────────────────────────────────────
   3) YARDIMCI UTILITIES (Tailwind v4 @utility)
   - v3'teki @layer yerine v4'te @utility kullan.
   Docs: Upgrade guide: container @utility örneği
   https://tailwindcss.com/docs/upgrade-guide
   ────────────────────────────────────────────────────────── */

/* Container (orta hizalı, responsive padding) */
@utility container {
  width: 100%;
  margin-inline: auto;
  padding-inline: 1rem;
  max-width: var(--breakpoint-lg);
}
@media (min-width: 40rem) {
  .container { padding-inline: 1.25rem; }
}
@media (min-width: 80rem) {
  .container { max-width: 80rem; }
}

/* Kart yüzey */
@utility card {
  background-color: var(--color-card);
  border: 1px solid oklch(from var(--color-border) l c h / 0.6);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-soft);
}
@utility card-hover {
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
}
.card-hover:hover { transform: translateY(-2px); box-shadow: var(--shadow-pop); }

/* Başlık ve alt başlık tipografisi */
@utility h1 { @apply text-3xl md:text-4xl font-semibold tracking-tight; }
@utility h2 { @apply text-2xl md:text-3xl font-semibold tracking-tight; }
@utility h3 { @apply text-xl md:text-2xl font-semibold; }
@utility subtext { @apply text-muted-600 dark:text-muted-400; }

/* Buton ailesi */
@utility btn {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  height: 2.5rem;
  padding-inline: 1rem;
  border-radius: var(--radius-lg);
  font-weight: 600;
  line-height: 1;
  border: 1px solid transparent;
  transition: background-color .15s ease, color .15s ease, box-shadow .15s ease, transform .04s ease-in-out;
}
@utility btn-primary {
  background: linear-gradient(135deg, var(--color-brand-500), var(--color-accent-500));
  color: white;
}
.btn-primary:hover { 
  background: linear-gradient(135deg, var(--color-brand-600), var(--color-accent-600));
  transform: translateY(-1px);
  box-shadow: 0 4px 12px color-mix(in oklch, var(--color-brand-500) 30%, transparent);
}
.btn-primary:focus-visible { box-shadow: var(--ring-brand); outline: none; }

@utility btn-ghost {
  background: transparent;
  color: var(--color-foreground);
  border-color: oklch(from var(--color-border) l c h / 0.5);
}
.btn-ghost:hover { background: oklch(from var(--color-muted-100) l c h / .6); }
.dark .btn-ghost:hover { background: oklch(from var(--color-elevated) l c h / .9); }

/* Input/Select/Textarea */
@utility input {
  display: inline-flex;
  align-items: center;
  height: 2.5rem;
  width: 100%;
  padding-inline: .875rem;
  border-radius: var(--radius-md);
  background: var(--color-elevated);
  color: var(--color-foreground);
  border: 1px solid oklch(from var(--color-border) l c h / .7);
  transition: border-color .16s ease, box-shadow .16s ease, background-color .16s ease;
}
.input:focus { outline: none; box-shadow: var(--ring-brand); border-color: var(--color-brand-500); }

/* Badge/Chip */
@utility chip {
  display: inline-flex;
  align-items: center;
  gap: .375rem;
  height: 1.75rem;
  padding-inline: .625rem;
  border-radius: 999px;
  font-size: .75rem;
  border: 1px solid oklch(from var(--color-border) l c h / .6);
  background: var(--color-elevated);
}

/* Finans özel: gelir(+), gider(-) renklendirme  */
@utility money-in  { color: var(--color-positive-500); }
@utility money-out { color: var(--color-negative-500); }

/* Form helper: hata metni */
@utility form-error { @apply text-negative-500 text-sm; }

/* Fokus için erişilebilir outline sıfırlama */
:focus-visible { outline: none; }

/* Modern gradient utilities */
@utility gradient-blue-purple {
  background: linear-gradient(135deg, var(--color-brand-500), var(--color-accent-500));
}

@utility gradient-text {
  background: linear-gradient(135deg, var(--color-brand-600), var(--color-accent-600));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@utility gradient-border {
  border: 2px solid transparent;
  background: linear-gradient(var(--color-card), var(--color-card)) padding-box,
              linear-gradient(135deg, var(--color-brand-500), var(--color-accent-500)) border-box;
}
/* ──────────────────────────────────────────────────────────
   WeTrackX Logo - Döngüsel Yükleme Animasyonları
   ────────────────────────────────────────────────────────── */

/* Her rect'e uygulanacak: SVG'de origin'in doğru çalışması için şart */
.wtx-rect {
  transform-box: fill-box;         /* SVG bbox’ı baz al */
  transform-origin: bottom center; /* alttan büyüsün */
}

/* Bar yükseltme - döngüsel ve senkron pencereler */
@keyframes wtx-rise {
  0%, 10%   { transform: scaleY(0); opacity: 0; }
  20%       { opacity: .6; }
  40%       { transform: scaleY(1); opacity: 1; }
  60%       { transform: scaleY(1); opacity: 1; }
  80%,100%  { transform: scaleY(0); opacity: 0; }
}

.wtx-rise {
  animation: wtx-rise 3s cubic-bezier(0.25,0.46,0.45,0.94) infinite;
}

/* Çizgiyi soldan sağa çiz: pathLength ile normalize edip yüzdeyle kontrol */
@keyframes wtx-draw {
  0%, 10%   { stroke-dashoffset: 100; opacity: 0; }
  15%       { opacity: .5; }
  40%       { stroke-dashoffset: 0;  opacity: 1; }
  60%       { stroke-dashoffset: 0;  opacity: 1; }
  80%,100%  { stroke-dashoffset: 100; opacity: 0; }
}

.wtx-draw {
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  animation: wtx-draw 3s cubic-bezier(0.25,0.46,0.45,0.94) infinite;
}

/* Sıralı gecikmeler (her döngüde faz korunur) */
.delay-\[0ms\]{    animation-delay: 0s;   }
.delay-\[500ms\]{  animation-delay: .5s;  }
.delay-\[1000ms\]{ animation-delay: 1s;   }
